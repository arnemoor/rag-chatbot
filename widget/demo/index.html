<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AutoRAG Widget Demo - Test All Configurations</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 40px 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      h1 {
        color: white;
        text-align: center;
        margin-bottom: 40px;
        font-size: 2.5rem;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
      }

      .demo-card {
        background: white;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      }

      .demo-card h2 {
        color: #1e293b;
        margin-bottom: 16px;
        font-size: 1.5rem;
      }

      .demo-card p {
        color: #64748b;
        margin-bottom: 20px;
        line-height: 1.6;
      }

      .config-list {
        background: #f8fafc;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 20px;
      }

      .config-list h3 {
        color: #475569;
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 12px;
      }

      .config-item {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #e2e8f0;
        font-size: 0.875rem;
      }

      .config-item:last-child {
        border-bottom: none;
      }

      .config-key {
        color: #64748b;
      }

      .config-value {
        color: #1e293b;
        font-weight: 500;
      }

      .demo-actions {
        display: flex;
        gap: 12px;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }

      .btn-primary {
        background: #2563eb;
        color: white;
      }

      .btn-primary:hover {
        background: #1d4ed8;
      }

      .btn-secondary {
        background: #e2e8f0;
        color: #475569;
      }

      .btn-secondary:hover {
        background: #cbd5e1;
      }

      .test-page {
        background: white;
        border-radius: 16px;
        padding: 40px;
        margin-bottom: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      }

      .test-page h2 {
        color: #1e293b;
        margin-bottom: 20px;
      }

      .test-page p {
        color: #64748b;
        line-height: 1.8;
        margin-bottom: 16px;
      }

      .code-block {
        background: #1e293b;
        color: #e2e8f0;
        padding: 20px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 20px 0;
      }

      .code-block code {
        font-family: 'Monaco', 'Menlo', monospace;
        font-size: 14px;
        line-height: 1.6;
      }

      .iframe-demo {
        background: white;
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      }

      .iframe-container {
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        overflow: hidden;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ü§ñ AutoRAG Widget Demo</h1>

      <div class="test-page">
        <h2>Live Testing Environment</h2>
        <p>
          This is a demo page showcasing different configurations of the AutoRAG chat widget. Try clicking on different
          demo configurations below to see how the widget adapts to various settings.
        </p>
        <p>
          The widget is currently active on this page with default settings. Look for the chat button in the
          bottom-right corner!
        </p>
      </div>

      <div class="demo-grid">
        <div class="demo-card">
          <h2>üåç Multilingual Support</h2>
          <p>Test the widget in different languages with appropriate prompts and responses.</p>

          <div class="config-list">
            <h3>Configuration</h3>
            <div class="config-item">
              <span class="config-key">Language:</span>
              <span class="config-value">German (DE)</span>
            </div>
            <div class="config-item">
              <span class="config-key">Button Text:</span>
              <span class="config-value">Hilfe ben√∂tigt?</span>
            </div>
            <div class="config-item">
              <span class="config-key">Theme:</span>
              <span class="config-value">Light</span>
            </div>
          </div>

          <div class="demo-actions">
            <button class="btn btn-primary" onclick="loadGermanWidget()">Load German Widget</button>
          </div>
        </div>

        <div class="demo-card">
          <h2>üåô Dark Theme</h2>
          <p>Perfect for dark mode websites with a sleek, modern appearance.</p>

          <div class="config-list">
            <h3>Configuration</h3>
            <div class="config-item">
              <span class="config-key">Theme:</span>
              <span class="config-value">Dark</span>
            </div>
            <div class="config-item">
              <span class="config-key">Position:</span>
              <span class="config-value">Bottom Left</span>
            </div>
            <div class="config-item">
              <span class="config-key">Model:</span>
              <span class="config-value">GPT-5 Mini</span>
            </div>
          </div>

          <div class="demo-actions">
            <button class="btn btn-primary" onclick="loadDarkWidget()">Load Dark Theme</button>
          </div>
        </div>

        <div class="demo-card">
          <h2>üìö Fiction Category</h2>
          <p>Configured for literature and fiction content with specialized responses.</p>

          <div class="config-list">
            <h3>Configuration</h3>
            <div class="config-item">
              <span class="config-key">Category:</span>
              <span class="config-value">Fiction</span>
            </div>
            <div class="config-item">
              <span class="config-key">Product:</span>
              <span class="config-value">Literature</span>
            </div>
            <div class="config-item">
              <span class="config-key">Model:</span>
              <span class="config-value">Claude Sonnet 4</span>
            </div>
          </div>

          <div class="demo-actions">
            <button class="btn btn-primary" onclick="loadFictionWidget()">Load Fiction Config</button>
          </div>
        </div>

        <div class="demo-card">
          <h2>‚ö° High Performance</h2>
          <p>Using GPT-5 Nano for ultra-fast responses with minimal latency.</p>

          <div class="config-list">
            <h3>Configuration</h3>
            <div class="config-item">
              <span class="config-key">Provider:</span>
              <span class="config-value">OpenAI</span>
            </div>
            <div class="config-item">
              <span class="config-key">Model:</span>
              <span class="config-value">GPT-5 Nano</span>
            </div>
            <div class="config-item">
              <span class="config-key">Position:</span>
              <span class="config-value">Top Right</span>
            </div>
          </div>

          <div class="demo-actions">
            <button class="btn btn-primary" onclick="loadFastWidget()">Load Fast Config</button>
          </div>
        </div>
      </div>

      <div class="demo-card">
        <h2>üìù Integration Code Example</h2>
        <p>Copy this code to add the widget to your website:</p>

        <div class="code-block">
          <code id="integration-code">
            &lt;!-- AutoRAG Chat Widget --&gt; &lt;script
            src="https://autorag-widget.pages.dev/autorag-widget.min.js"&gt;&lt;/script&gt; &lt;autorag-widget
            language="en" category="general" product="product-a" theme="light" position="bottom-right"
            &gt;&lt;/autorag-widget&gt;
          </code>
        </div>

        <div class="demo-actions">
          <button class="btn btn-primary" onclick="copyCode()">Copy Code</button>
          <button class="btn btn-secondary" onclick="resetWidget()">Reset to Default</button>
        </div>
      </div>

      <div class="iframe-demo">
        <h2>üì± Iframe Embedding Demo</h2>
        <p>For legacy browser support or complete isolation, you can embed the widget as an iframe:</p>

        <div class="iframe-container">
          <iframe
            src="/iframe.html?language=en&category=general&product=literature&theme=light"
            width="100%"
            height="600"
            frameborder="0"
          ></iframe>
        </div>
      </div>
    </div>

    <!-- Default Widget -->
    <autorag-widget id="demo-widget"></autorag-widget>

    <!-- Include the widget script -->
    <script src="/autorag-widget.js"></script>

    <script>
      // Demo control functions
      function loadGermanWidget() {
        updateWidget({
          language: 'de',
          buttonText: 'Hilfe ben√∂tigt?',
          headerTitle: 'Support-Assistent',
          theme: 'light',
          position: 'bottom-right',
        });
      }

      function loadDarkWidget() {
        updateWidget({
          theme: 'dark',
          position: 'bottom-left',
          provider: 'openai',
          model: 'gpt-5-mini',
          buttonText: 'Chat with AI',
          headerTitle: 'AI Assistant',
        });
      }

      function loadFictionWidget() {
        updateWidget({
          category: 'fiction',
          product: 'literature',
          provider: 'anthropic',
          model: 'claude-sonnet-4-20250514',
          buttonText: 'Literature Support',
          headerTitle: 'Literature Assistant',
        });
      }

      function loadFastWidget() {
        updateWidget({
          provider: 'openai',
          model: 'gpt-5-nano',
          position: 'top-right',
          buttonText: 'Quick Help',
          headerTitle: 'Fast Support',
        });
      }

      function updateWidget(config) {
        const widget = document.getElementById('demo-widget');

        // Remove and recreate to apply new config
        widget.remove();

        const newWidget = document.createElement('autorag-widget');
        newWidget.id = 'demo-widget';

        // Apply configuration
        Object.keys(config).forEach((key) => {
          const attrName = key.replace(/([A-Z])/g, '-$1').toLowerCase();
          newWidget.setAttribute(attrName, config[key]);
        });

        document.body.appendChild(newWidget);

        // Update code example
        updateCodeExample(config);

        // Show notification
        showNotification('Widget configuration updated!');
      }

      function resetWidget() {
        const widget = document.getElementById('demo-widget');
        widget.remove();

        const newWidget = document.createElement('autorag-widget');
        newWidget.id = 'demo-widget';
        document.body.appendChild(newWidget);

        showNotification('Widget reset to default configuration');
      }

      function updateCodeExample(config) {
        const attrs = Object.keys(config)
          .map((key) => {
            const attrName = key.replace(/([A-Z])/g, '-$1').toLowerCase();
            return `  ${attrName}="${config[key]}"`;
          })
          .join('\n');

        const code = `&lt;!-- AutoRAG Chat Widget --&gt;
&lt;script src="https://autorag-widget.pages.dev/autorag-widget.min.js"&gt;&lt;/script&gt;
&lt;autorag-widget
${attrs}
&gt;&lt;/autorag-widget&gt;`;

        document.getElementById('integration-code').innerHTML = code;
      }

      function copyCode() {
        const code = document.getElementById('integration-code').textContent;
        navigator.clipboard.writeText(code).then(() => {
          showNotification('Code copied to clipboard!');
        });
      }

      function showNotification(message) {
        const notification = document.createElement('div');
        notification.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: #10b981;
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        z-index: 10000;
        animation: slideDown 0.3s ease-out;
      `;
        notification.textContent = message;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = 'slideUp 0.3s ease-out';
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }

      // Add animations
      const style = document.createElement('style');
      style.textContent = `
      @keyframes slideDown {
        from {
          transform: translate(-50%, -100%);
          opacity: 0;
        }
        to {
          transform: translate(-50%, 0);
          opacity: 1;
        }
      }
      
      @keyframes slideUp {
        from {
          transform: translate(-50%, 0);
          opacity: 1;
        }
        to {
          transform: translate(-50%, -100%);
          opacity: 0;
        }
      }
    `;
      document.head.appendChild(style);

      // Listen to widget events
      document.addEventListener('widget-opened', (e) => {
        console.log('Widget opened:', e.detail);
      });

      document.addEventListener('widget-closed', (e) => {
        console.log('Widget closed:', e.detail);
      });

      document.addEventListener('message-sent', (e) => {
        console.log('Message sent:', e.detail);
      });
    </script>
  </body>
</html>
